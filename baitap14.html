<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i táº­p 14 - Memory Card Game</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* CSS riÃªng cho hiá»‡u á»©ng láº­t tháº» 3D */
        .game-container { max-width: 600px; margin: 20px auto; perspective: 1000px; }
        .stats { margin-bottom: 15px; font-weight: bold; text-align: center; }
        
        .memory-grid {
            display: grid;
            gap: 10px;
            grid-template-columns: repeat(2, 1fr); /* Mobile: 2 cá»™t */
        }
        @media (min-width: 768px) {
            .memory-grid { grid-template-columns: repeat(4, 1fr); } /* Desktop: 4 cá»™t */
        }

        .card {
            height: 150px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            cursor: pointer;
        }
        .card.flipped { transform: rotateY(180deg); }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .card-front { background: #2c3e50; color: white; } /* Máº·t sau (Ãºp) */
        .card-back { background: #3498db; transform: rotateY(180deg); color: white; } /* Máº·t trÆ°á»›c (láº­t) */
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">Trang chá»§</a></li>
            <li><a href="baitap14.html">BÃ i táº­p 14</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2 class="text-center">Memory Card Flip Game</h2>
        <div class="stats">LÆ°á»£t Ä‘i: <span id="moves">0</span></div>
        
        <div class="game-container">
            <div class="memory-grid" id="gameBoard">
                </div>
        </div>
        
        <div class="text-center" style="margin-top: 20px;">
            <button onclick="resetGame()">ChÆ¡i láº¡i</button>
        </div>
    </div>

    <script>
        const symbols = ['ðŸŽ', 'ðŸŒ', 'ðŸ‡', 'ðŸ‰', 'ðŸŽ', 'ðŸŒ', 'ðŸ‡', 'ðŸ‰'];
        let moves = 0;
        let flippedCards = [];
        let matchedPairs = 0;

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function createBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';
            const shuffledSymbols = shuffle([...symbols]);
            
            shuffledSymbols.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.classList.add('card');
                card.dataset.symbol = symbol;
                card.innerHTML = `
                    <div class="card-front">?</div>
                    <div class="card-back">${symbol}</div>
                `;
                card.addEventListener('click', flipCard);
                board.appendChild(card);
            });
        }

        function flipCard() {
            if (flippedCards.length < 2 && !this.classList.contains('flipped')) {
                this.classList.add('flipped');
                flippedCards.push(this);

                if (flippedCards.length === 2) {
                    moves++;
                    document.getElementById('moves').innerText = moves;
                    checkMatch();
                }
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            if (card1.dataset.symbol === card2.dataset.symbol) {
                matchedPairs++;
                flippedCards = [];
                if (matchedPairs === symbols.length / 2) {
                    setTimeout(() => alert(`ChÃºc má»«ng! Báº¡n tháº¯ng sau ${moves} lÆ°á»£t.`), 500);
                }
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    flippedCards = [];
                }, 1000);
            }
        }

        function resetGame() {
            moves = 0;
            matchedPairs = 0;
            flippedCards = [];
            document.getElementById('moves').innerText = '0';
            createBoard();
        }

        createBoard();
    </script>
</body>
</html>